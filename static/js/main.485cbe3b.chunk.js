(this.webpackJsonpant_hydrotable=this.webpackJsonpant_hydrotable||[]).push([[0],{110:function(e,t){},159:function(e,t,n){},165:function(e,t){},166:function(e,t){},281:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n(0),c=n.n(a),i=n(27),o=n.n(i),s=(n(159),n(104)),l=n.n(s),d=n(128),u=n(149),j=n(53),h=n(58),b=n(285),f=n(286),p=n(284),x=n(59),O=n.n(x),v=(n(167),function(){return window.innerWidth>650}),m=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h.a,{shape:"round",onClick:function(){return c(!0)},children:"Status Definitions"}),Object(r.jsx)(b.a,{title:"Status Definitions",placement:"left",visible:n,onClose:function(){return c(!1)},children:Object(r.jsxs)("dl",{children:[Object(r.jsx)("dt",{children:Object(r.jsx)(f.a,{color:"green",children:"Final"})}),Object(r.jsx)("dd",{children:"Data are received and merged into the dataset with no updates for this parameter expected."}),Object(r.jsx)("dt",{children:Object(r.jsx)(f.a,{color:"green",children:"Preliminary"})}),Object(r.jsx)("dd",{children:"Data have been received and merged into the dataset but updates for this parameter are expected (e.g. post cruise calibration)"}),Object(r.jsx)("dt",{children:Object(r.jsx)(f.a,{color:"yellow",children:"Final"})}),Object(r.jsx)("dd",{children:"Data with no expected updates are received and available as is while pending merging into the dataset."}),Object(r.jsx)("dt",{children:Object(r.jsx)(f.a,{color:"yellow",children:"Preliminary"})}),Object(r.jsx)("dd",{children:"Data with expected updates are received and available as is while pending merging into the dataset."}),Object(r.jsx)("dt",{children:Object(r.jsx)(f.a,{color:"red",children:"Funded"})}),Object(r.jsx)("dd",{children:"Samples for this parameter have been collected, analytical results are expected within the timelines set by GO-SHIP."}),Object(r.jsx)("dt",{children:Object(r.jsx)(f.a,{color:"red",children:"Unfunded"})}),Object(r.jsx)("dd",{children:"Samples for this parameter have been collected, but no funds are available for analysis. These data are not expected to be received."})]})})]})},y=Object(a.memo)((function(e){var t=e.record;return void 0===t?Object(r.jsx)("div",{children:"-"}):t.map((function(e){var t,n,a;return null!==e.status&&e.status.includes("final")&&(t=Object(r.jsx)(f.a,{color:"green",children:"Received"})),null!==e.status&&e.status.includes("preliminary")&&(n=Object(r.jsx)(f.a,{color:"yellow",children:"Submitted"})),null!==e.status&&e.status.includes("not_yet")&&(a=Object(r.jsx)(f.a,{color:"red",children:"Not Received"})),null!==e.href?Object(r.jsxs)("div",{children:[t,n,a," ",Object(r.jsx)("a",{href:e.href,children:e.text})]}):Object(r.jsxs)("div",{children:[t,n,a," ",e.text]})}))}));function g(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace("Janurary","01")).replace("February","02")).replace("March","03")).replace("April","04")).replace("May","05")).replace("June","06")).replace("July","07")).replace("August","08")).replace("September","09")).replace("October","10")).replace("November","11")).replace("December","12")}var w=function(e){if("Dates"===e)return function(t,n){var r=g(t[e][0].text),a=g(n[e][0].text);return r>a?-1:r<a?1:0}};var S=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),o=Object(j.a)(i,2),s=o[0],b=o[1],f=Object(a.useState)("ascend"),x=Object(j.a)(f,2),g=x[0],S=x[1],C=Object(a.useState)(!0),_=Object(j.a)(C,2),D=_[0],F=_[1],k=Object(a.useState)(v()),E=Object(j.a)(k,2),P=E[0],A=E[1];Object(a.useEffect)((function(){Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hydrotable.cchdo.io/hydrotable/json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.columns),b(n.rows),F(!1);case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(a.useEffect)((function(){window.addEventListener("resize",(function(){v()?A(!0):A(!1)}))}),[]);var I=n.map((function(e){var t=function(e,t){var n=["final","preliminary","not_yet"];return t.map((function(t){return t[e]})).flat().filter((function(e){return void 0!==e})).some((function(e){return n.some((function(t){return null!==e.status&&e.status.includes(t)}))}))}(e,s);return{title:e,dataIndex:e,key:e,width:260,fixed:"Cruise"===e&&P,render:function(e){return Object(r.jsx)(y,{record:e})},sorter:w(e),sortOrder:"Dates"===e?g:void 0,filters:t?[{text:"Received",value:"final"},{text:"Submitted",value:"preliminary"},{text:"Not Received",value:"not_yet"}]:void 0,onFilter:function(t,n){var r=n[e];if(void 0===r)return!1;for(var a=0;a<r.length;a++){var c=r[a];if(null!==c.status&&c.status.includes(t))return!0}return!1}}}));return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(h.a,{disabled:D,type:"primary",shape:"round",onClick:function(){return function(e,t){var n=t.sort(w("Dates")),r={},a=n.map((function(t,n){return e.map((function(e,a){var c=t[e];if(void 0!==c)return c.forEach((function(t){if(e.includes("Expocode")&&null!==t.href){var c=String.fromCharCode(a+"A".charCodeAt(0)),i="".concat(c).concat(n+2);r[i]=t.href}})),c.map((function(e){return e.text})).join("; ")}))})),c=O.a.utils.book_new(),i=O.a.utils.aoa_to_sheet([e].concat(Object(u.a)(a)));Object.entries(r).forEach((function(e){var t=Object(j.a)(e,2),n=t[0],r=t[1];return i[n].l={Target:r,Tooltip:"Goto CCHDO Cruise page"}})),O.a.utils.book_append_sheet(c,i,"Hydrotable");var o=[];n.forEach((function(t){var n=t.Cruise[0].text;return e.forEach((function(e){var r=t[e];void 0!==r&&r.forEach((function(t){null!==t.status&&t.status.includes("not_yet")&&o.push([t.text,e,n])}))}))}));var s=O.a.utils.aoa_to_sheet([["PI","Param","Cruise"]].concat(o));O.a.utils.book_append_sheet(c,s,"Not Received"),O.a.writeFile(c,"hydrotable.xlsx")}(n,s)},children:"Download XLSX"}),Object(r.jsx)(m,{}),Object(r.jsx)(p.a,{loading:D,columns:I,dataSource:s,size:"small",scroll:{x:I.reduce((function(e,t){return e+t.width}),0)},sticky:!0,pagination:!1,onChange:function(e,t,n){return S(n.order)}})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,287)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(S,{})}),document.getElementById("root")),C()}},[[281,1,2]]]);
//# sourceMappingURL=main.485cbe3b.chunk.js.map